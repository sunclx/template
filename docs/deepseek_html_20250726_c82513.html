<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>住院病历模板</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* 主色调 */
            --doc-primary: #2E4AB8;
            --doc-secondary: #5C7CFA;

            /* 背景色 */
            --doc-bg: #F8FAFF;
            --section-bg: #EDF2FF;

            /* 文字色 */
            --text-main: #1A237E;
            --text-secondary: #37474F;
            --text-label: #546E7A;

            /* 辅助色 */
            --border-light: #CFD8DC;
            --border-emphasis: #90CAF9;
            --hover-bg: #E3EAFF;
            --active-bg: #D6E0FF;

            /* 功能色 */
            --success: #4CAF50;
            --warning: #FF9800;
            --danger: #E53935;

            /* 尺寸 */
            --title-bar-height: 40px;
            --status-bar-height: 20px;
            --sidebar-width: 200px;
            --middle-list-width: 320px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background-color: var(--doc-bg);
            color: var(--text-main);
            overflow: hidden;
        }

        /* 标题栏样式 */
        .title-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: var(--title-bar-height);
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            z-index: 1000;
            border-bottom: 1px solid var(--border-light);
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .app-logo {
            width: 30px;
            height: 30px;
            background-color: var(--doc-primary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: bold;
        }

        .app-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--doc-primary);
        }

        .menu-items {
            display: flex;
            gap: 25px;
            margin-left: 30px;
        }

        .menu-item {
            color: var(--text-secondary);
            font-size: 15px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .menu-item:hover {
            background-color: var(--hover-bg);
            color: var(--doc-primary);
        }

        .window-controls {
            display: flex;
            gap: 15px;
        }

        .window-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.2s;
        }

        .window-btn:hover {
            background-color: var(--hover-bg);
        }

        .minimize-btn:hover {
            color: var(--warning);
        }

        .maximize-btn:hover {
            color: var(--success);
        }

        .close-btn:hover {
            background-color: var(--danger);
            color: white;
        }

        /* 主内容区域 */
        .main-container {
            position: fixed;
            top: var(--title-bar-height);
            bottom: var(--status-bar-height);
            left: 0;
            right: 0;
            display: flex;
        }

        /* 左侧边栏 */
        .sidebar {
            width: var(--sidebar-width);
            height: 100%;
            background-color: white;
            border-right: 1px solid var(--border-light);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .category-section {
            padding: 20px;
            border-bottom: 1px solid var(--border-light);
        }

        .category-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--doc-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .dropdown-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .dropdown {
            background-color: var(--section-bg);
            border-radius: 8px;
            padding: 12px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.2s;
        }

        .dropdown:hover {
            background-color: var(--hover-bg);
        }

        .dropdown.active {
            background-color: var(--doc-primary);
            color: white;
        }

        .dropdown i {
            font-size: 12px;
            transition: transform 0.3s;
        }

        .dropdown.active i {
            transform: rotate(180deg);
        }

        .category-content {
            flex: 1;
            overflow-y: auto;
            padding: 15px 20px;
        }

        .category-view {
            display: none;
        }

        .category-view.active {
            display: block;
        }

        .category-header {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .category-items {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .category-item {
            padding: 10px 15px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: all 0.2s;
        }

        .category-item:hover {
            background-color: var(--hover-bg);
        }

        .category-item.active {
            background-color: var(--doc-primary);
            color: white;
        }

        .badge {
            background-color: var(--border-light);
            color: var(--text-secondary);
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
        }

        .category-item.active .badge {
            background-color: white;
            color: var(--doc-primary);
        }

        /* 中间列表区域 */
        .template-list-section {
            /* flex: 1; */
            width: var(--middle-list-width);
            height: 100%;
            background-color: white;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .list-header {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .search-container {
            display: flex;
            align-items: center;
            background-color: var(--section-bg);
            border-radius: 8px;
            padding: 8px 15px;
            width: 300px;
        }

        .search-container i {
            color: var(--text-secondary);
            margin-right: 10px;
        }

        .search-input {
            border: none;
            background: transparent;
            outline: none;
            width: 100%;
            color: var(--text-main);
            font-size: 14px;
        }

        .filter-btn {
            background-color: var(--section-bg);
            border: none;
            border-radius: 6px;
            padding: 8px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-btn:hover {
            background-color: var(--hover-bg);
        }

        .filter-panel {
            position: absolute;
            top: 120px;
            right: 420px;
            width: 280px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            padding: 20px;
            z-index: 500;
            display: none;
        }

        .filter-panel.active {
            display: block;
        }

        .filter-group {
            margin-bottom: 20px;
        }

        .filter-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-secondary);
        }

        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .filter-option {
            background-color: var(--section-bg);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-option:hover,
        .filter-option.active {
            background-color: var(--doc-primary);
            color: white;
        }

        /* 模板列表 */
        .template-list {
            flex: 1;
            overflow-y: auto;
            padding: 15px 20px;
        }

        .template-card {
            background-color: white;
            border: 1px solid var(--border-light);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .template-card:hover {
            border-color: var(--border-emphasis);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transform: translateY(-2px);
        }

        .template-card.active {
            border-color: var(--doc-primary);
            background-color: var(--section-bg);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .template-title {
            font-size: 17px;
            font-weight: 600;
            color: var(--doc-primary);
        }

        .favorite-btn {
            background: none;
            border: none;
            color: #ddd;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.2s;
        }

        .favorite-btn.active {
            color: #FFC107;
        }

        .card-tags {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .tag {
            background-color: var(--section-bg);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .tag.type {
            background-color: #E3F2FD;
            color: #1565C0;
        }

        .tag.category {
            background-color: #E8F5E9;
            color: #2E7D32;
        }

        .card-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: var(--text-secondary);
            font-size: 13px;
        }

        /* 右侧详情区域 */
        .template-detail-section {
            /* width: var(--detail-width); */
            flex: 1;
            height: 100%;
            background-color: white;
            border-left: 1px solid var(--border-light);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .template-detail-header {
            padding: 18px 20px;
            border-bottom: 1px solid var(--border-light);
        }

        .detail-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--doc-primary);
        }

        .detail-tags {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .detail-actions {
            display: flex;
            gap: 12px;
        }

        .action-btn {
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .edit-btn {
            background-color: var(--doc-primary);
            color: white;
        }

        .edit-btn:hover {
            background-color: #1c3aa9;
        }

        .save-btn {
            background-color: var(--success);
            color: white;
            display: none;
        }

        .cancel-btn {
            background-color: var(--text-secondary);
            color: white;
            display: none;
        }

        .template-detail-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .empty-state {
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            text-align: center;
            padding: 20px;
        }

        .empty-state i {
            font-size: 48px;
            margin-bottom: 15px;
            color: var(--border-light);
        }

        .detail-content {
            display: none;
        }

        .template-section {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px dashed var(--border-light);
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--doc-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-content {
            color: var(--text-main);
            line-height: 1.6;
            padding: 0 10px;
        }

        .field-group {
            margin-bottom: 12px;
        }

        .field-label {
            font-weight: 500;
            color: var(--text-label);
            margin-bottom: 5px;
        }

        .field-value {
            padding: 8px 12px;
            background-color: var(--section-bg);
            border-radius: 6px;
            min-height: 40px;
        }

        /* 底部状态栏 */
        .status-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: var(--status-bar-height);
            background-color: white;
            border-top: 1px solid var(--border-light);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            font-size: 13px;
            color: var(--text-secondary);
            z-index: 1000;
        }

        .connection-status {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: var(--success);
        }

        .template-info {
            display: flex;
            gap: 20px;
        }

        /* 响应式调整 */
        @media (max-width: 1200px) {
            :root {
                --detail-width: 350px;
                --sidebar-width: 250px;
            }
        }
    </style>
</head>

<body>
    <div class="app-container">
        <!-- 标题栏 -->
        <div class="title-bar">
            <div class="logo-section">
                <div class="app-logo">医</div>
                <div class="app-title">住院病历模板管理系统</div>
                <div class="menu-items">
                    <div class="menu-item">文件</div>
                    <div class="menu-item">编辑</div>
                    <div class="menu-item">视图</div>
                    <div class="menu-item">帮助</div>
                </div>
            </div>
            <div class="window-controls">
                <div class="window-btn pin-btn"><i class="fas fa-thumbtack"></i></div>
                <div class="window-btn minimize-btn"><i class="fas fa-minus"></i></div>
                <div class="window-btn maximize-btn"><i class="fas fa-expand"></i></div>
                <div class="window-btn close-btn"><i class="fas fa-times"></i></div>
            </div>
        </div>

        <!-- 主内容区域 -->
        <div class="main-container">
            <!-- 左侧边栏 -->
            <div class="sidebar">
                <div class="category-section">
                    <select class="dropdown-group">
                        <option class="dropdown active" onclick="toggleCategory('disease')">
                            <span>按病种分类</span>
                            <i class="fas fa-chevron-down"></i>
                        </option>
                        <option class="dropdown" onclick="toggleCategory('type')">
                            <span>按模板种类</span>
                            <i class="fas fa-chevron-down"></i>
                        </option>
                        <option class="dropdown" onclick="toggleCategory('tag')">
                            <span>按标签分类</span>
                            <i class="fas fa-chevron-down"></i>
                        </option>
                    </select>
                </div>

                <div class="category-content">
                    <!-- 按病种分类 -->
                    <div class="category-view active" id="disease-view">
                        <div class="category-header">
                            <span>病种分类</span>
                            <span>模板数</span>
                        </div>
                        <div class="category-items">
                            <div class="category-item active">
                                <span>全部病种</span>
                                <span class="badge">142</span>
                            </div>
                            <div class="category-item">
                                <span>颈椎疾病</span>
                                <span class="badge">32</span>
                            </div>
                            <div class="category-item">
                                <span>腰椎疾病</span>
                                <span class="badge">28</span>
                            </div>
                            <div class="category-item">
                                <span>脊柱侧弯</span>
                                <span class="badge">19</span>
                            </div>
                            <div class="category-item">
                                <span>脊柱外伤</span>
                                <span class="badge">27</span>
                            </div>
                            <div class="category-item">
                                <span>脊柱肿瘤</span>
                                <span class="badge">14</span>
                            </div>
                            <div class="category-item">
                                <span>脊柱感染</span>
                                <span class="badge">8</span>
                            </div>
                            <div class="category-item">
                                <span>先天畸形</span>
                                <span class="badge">14</span>
                            </div>
                        </div>
                    </div>

                    <!-- 按模板种类 -->
                    <div class="category-view" id="type-view">
                        <div class="category-header">
                            <span>模板种类</span>
                            <span>模板数</span>
                        </div>
                        <div class="category-items">
                            <div class="category-item active">
                                <span>全部种类</span>
                                <span class="badge">142</span>
                            </div>
                            <div class="category-item">
                                <span>入院记录</span>
                                <span class="badge">42</span>
                            </div>
                            <div class="category-item">
                                <span>手术记录</span>
                                <span class="badge">37</span>
                            </div>
                            <div class="category-item">
                                <span>出院记录</span>
                                <span class="badge">35</span>
                            </div>
                            <div class="category-item">
                                <span>随访记录</span>
                                <span class="badge">18</span>
                            </div>
                            <div class="category-item">
                                <span>会诊记录</span>
                                <span class="badge">10</span>
                            </div>
                        </div>
                    </div>

                    <!-- 按标签分类 -->
                    <div class="category-view" id="tag-view">
                        <div class="category-header">
                            <span>标签分类</span>
                            <span>模板数</span>
                        </div>
                        <div class="category-items">
                            <div class="category-item active">
                                <span>全部标签</span>
                                <span class="badge">142</span>
                            </div>
                            <div class="category-item">
                                <span>常用模板</span>
                                <span class="badge">68</span>
                            </div>
                            <div class="category-item">
                                <span>急诊模板</span>
                                <span class="badge">24</span>
                            </div>
                            <div class="category-item">
                                <span>复杂病例</span>
                                <span class="badge">32</span>
                            </div>
                            <div class="category-item">
                                <span>儿童病例</span>
                                <span class="badge">18</span>
                            </div>
                            <div class="category-item">
                                <span>老年病例</span>
                                <span class="badge">26</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 中间列表区域 -->
            <div class="template-list-section">
                <div class="list-header">
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" class="search-input" placeholder="搜索病历模板...">
                    </div>
                    <button class="filter-btn" onclick="toggleFilterPanel()">
                        <i class="fas fa-filter"></i>
                        筛选
                    </button>
                    <div class="filter-panel" id="filterPanel">
                        <div class="filter-group">
                            <div class="filter-title">模板类型</div>
                            <div class="filter-options">
                                <div class="filter-option">全部</div>
                                <div class="filter-option active">入院记录</div>
                                <div class="filter-option">手术记录</div>
                                <div class="filter-option">出院记录</div>
                                <div class="filter-option">随访记录</div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <div class="filter-title">病种分类</div>
                            <div class="filter-options">
                                <div class="filter-option active">全部</div>
                                <div class="filter-option">颈椎疾病</div>
                                <div class="filter-option">腰椎疾病</div>
                                <div class="filter-option">脊柱侧弯</div>
                                <div class="filter-option">脊柱外伤</div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <div class="filter-title">排序方式</div>
                            <div class="filter-options">
                                <div class="filter-option active">最近使用</div>
                                <div class="filter-option">创建时间</div>
                                <div class="filter-option">名称(A-Z)</div>
                                <div class="filter-option">模板类型</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="template-list">
                    <div class="template-card active" onclick="selectTemplate(this, 1)">
                        <div class="card-header">
                            <div class="template-title">颈椎病入院记录模板</div>
                            <button class="favorite-btn active" onclick="toggleFavorite(event, this)">
                                <i class="fas fa-star"></i>
                            </button>
                        </div>
                        <div class="card-tags">
                            <div class="tag type">入院记录</div>
                            <div class="tag category">颈椎疾病</div>
                            <div class="tag">常用模板</div>
                        </div>
                        <div class="card-footer">
                            <div>最后更新: 2023-10-15</div>
                        </div>
                    </div>

                    <div class="template-card" onclick="selectTemplate(this, 2)">
                        <div class="card-header">
                            <div class="template-title">腰椎间盘手术记录模板</div>
                            <button class="favorite-btn" onclick="toggleFavorite(event, this)">
                                <i class="fas fa-star"></i>
                            </button>
                        </div>
                        <div class="card-tags">
                            <div class="tag type">手术记录</div>
                            <div class="tag category">腰椎疾病</div>
                            <div class="tag">常用模板</div>
                        </div>
                        <div class="card-footer">
                            <div>最后更新: 2023-10-10</div>
                        </div>
                    </div>

                    <div class="template-card" onclick="selectTemplate(this, 3)">
                        <div class="card-header">
                            <div class="template-title">脊柱侧弯出院记录模板</div>
                            <button class="favorite-btn" onclick="toggleFavorite(event, this)">
                                <i class="fas fa-star"></i>
                            </button>
                        </div>
                        <div class="card-tags">
                            <div class="tag type">出院记录</div>
                            <div class="tag category">脊柱侧弯</div>
                            <div class="tag">复杂病例</div>
                        </div>
                        <div class="card-footer">
                            <div>最后更新: 2023-10-05</div>
                        </div>
                    </div>

                    <div class="template-card" onclick="selectTemplate(this, 4)">
                        <div class="card-header">
                            <div class="template-title">脊柱外伤急诊处理模板</div>
                            <button class="favorite-btn active" onclick="toggleFavorite(event, this)">
                                <i class="fas fa-star"></i>
                            </button>
                        </div>
                        <div class="card-tags">
                            <div class="tag type">急诊记录</div>
                            <div class="tag category">脊柱外伤</div>
                            <div class="tag">急诊模板</div>
                        </div>
                        <div class="card-footer">
                            <div>最后更新: 2023-09-28</div>
                        </div>
                    </div>

                    <div class="template-card" onclick="selectTemplate(this, 5)">
                        <div class="card-header">
                            <div class="template-title">儿童脊柱侧弯随访记录</div>
                            <button class="favorite-btn" onclick="toggleFavorite(event, this)">
                                <i class="fas fa-star"></i>
                            </button>
                        </div>
                        <div class="card-tags">
                            <div class="tag type">随访记录</div>
                            <div class="tag category">脊柱侧弯</div>
                            <div class="tag">儿童病例</div>
                        </div>
                        <div class="card-footer">
                            <div>最后更新: 2023-09-20</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 右侧详情区域 -->
            <div class="template-detail-section">
                <div class="template-detail-header">
                    <div class="detail-title">颈椎病入院记录模板</div>
                    <div class="detail-tags">
                        <div class="tag type">入院记录</div>
                        <div class="tag category">颈椎疾病</div>
                        <div class="tag">常用模板</div>
                    </div>
                    <div class="detail-actions">
                        <button class="action-btn edit-btn" onclick="enableEdit()">
                            <i class="fas fa-edit"></i> 编辑模板
                        </button>
                        <button class="action-btn save-btn" id="saveBtn">
                            <i class="fas fa-save"></i> 保存
                        </button>
                        <button class="action-btn cancel-btn" id="cancelBtn">
                            <i class="fas fa-times"></i> 取消
                        </button>
                    </div>
                </div>

                <div class="template-detail-content">
                    <div class="detail-content active" id="templateContent">
                        <div class="template-section">
                            <div class="section-title">
                                主诉
                            </div>
                            <div class="section-content">
                                <div class="field-value">
                                    颈部疼痛伴右上肢麻木[时间]，加重[时间]。

                                </div>
                                <button class="action-btn copy-btn">
                                    <i class="fas fa-copy"></i> 复制
                                </button>
                            </div>
                        </div>

                        <div class="template-section">
                            <div class="section-title">
                                现病史
                            </div>
                            <div class="section-content">
                                <div class="field-value">
                                    患者[时间]前无明显诱因出现颈部疼痛，为持续性钝痛，活动后加重...
                                    近[时间]出现右上肢麻木，以拇指、食指为著，伴右手握力减退...

                                </div>
                                <button class="action-btn copy-btn">
                                    <i class="fas fa-copy"></i> 复制
                                </button>
                            </div>
                        </div>

                        <div class="template-section">
                            <div class="section-title">
                                体格检查
                            </div>
                            <div class="section-content">
                                <div class="field-value">
                                    前屈30°，后伸20°，左侧屈25°，右侧屈25°，左旋40°，右旋40°；
                                    C5-C6右侧椎旁压痛(+)，右侧臂丛神经牵拉试验(+)；
                                    C6支配区(拇指、食指)感觉减退；

                                </div>
                                <button class="action-btn copy-btn">
                                    <i class="fas fa-copy"></i> 复制
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="empty-state" id="emptyState">
                        <i class="fas fa-file-medical-alt"></i>
                        <h3>未选择模板</h3>
                        <p>请从左侧列表中选择一个病历模板查看详情</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 底部状态栏 -->
        <div class="status-bar">
            <div class="connection-status">
                <div class="status-indicator"></div>
                <span>已连接至医院信息系统</span>
            </div>
            <div class="template-info">
                <span>当前模板: 颈椎病入院记录模板</span>
                <span>模板ID: TM20231015001</span>
            </div>
        </div>
    </div>



    <script>
        // 切换分类视图
        function toggleCategory(category) {
            // 重置所有下拉按钮
            document.querySelectorAll('.dropdown').forEach(el => {
                el.classList.remove('active');
            });

            // 激活当前下拉按钮
            event.currentTarget.classList.add('active');

            // 隐藏所有分类视图
            document.querySelectorAll('.category-view').forEach(view => {
                view.classList.remove('active');
            });

            // 显示选中的分类视图
            document.getElementById(`${category}-view`).classList.add('active');
        }

        // 切换筛选面板显示状态
        function toggleFilterPanel() {
            const panel = document.getElementById('filterPanel');
            panel.classList.toggle('active');
        }

        // 点击页面其他地方关闭筛选面板
        document.addEventListener('click', function (e) {
            const filterPanel = document.getElementById('filterPanel');
            const filterBtn = document.querySelector('.filter-btn');

            if (!filterPanel.contains(e.target) && e.target !== filterBtn) {
                filterPanel.classList.remove('active');
            }
        });

        // 选择模板
        function selectTemplate(element, templateId) {
            // 移除所有卡片的active状态
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('active');
            });

            // 为当前选择的卡片添加active状态
            element.classList.add('active');

            // 显示模板详情
            document.getElementById('emptyState').style.display = 'none';
            document.getElementById('templateContent').style.display = 'block';

            // 更新状态栏信息
            const title = element.querySelector('.template-title').textContent;
            document.querySelector('.template-info span:first-child').textContent = `当前模板: ${title}`;
        }

        // 切换收藏状态
        function toggleFavorite(event, element) {
            event.stopPropagation(); // 防止触发卡片选择事件
            element.classList.toggle('active');
        }

        // 启用编辑模式
        function enableEdit() {
            document.querySelector('.edit-btn').style.display = 'none';
            document.getElementById('saveBtn').style.display = 'flex';
            document.getElementById('cancelBtn').style.display = 'flex';

            // 在实际应用中，这里会使所有字段变为可编辑状态
            alert("编辑模式已启用，所有字段现在可编辑");
        }

        // 初始化页面
        document.addEventListener('DOMContentLoaded', function () {
            // 默认选择第一个模板
            const firstTemplate = document.querySelector('.template-card');
            if (firstTemplate) {
                firstTemplate.classList.add('active');
                document.getElementById('emptyState').style.display = 'none';
                document.getElementById('templateContent').style.display = 'block';
            }
        });
    </script>
</body>

</html>