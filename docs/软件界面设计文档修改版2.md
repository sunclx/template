# 医疗模板管理系统界面设计文档（修改版2）

## 1. 项目概述

### 1.1 项目背景

医疗模板管理系统是一个专为医疗工作者设计的桌面应用程序，旨在提供高效、专业的医疗文档模板管理功能。

### 1.2 技术栈选择

- **前端框架**: Vue 3 + TypeScript
- **构建工具**: Vite 7
- **桌面应用框架**: Tauri 2
- **UI组件库**: Naive UI
- **包管理器**: pnpm
- **状态管理**: Pinia
- **工具库**: VueUse
- **本地数据库**: DuckDB
- **数据查询**: TanStack Query (Vue Query)

## 类型定义

```typescript
// 基础类型
type Timestamp = number; // 时间戳
type TemplateID = string; // 模板ID
type TemplateType = string; // 模板类型
type TagID = string; // 标签ID
type DiseaseID = string; // 病种ID

// 标签类型
interface Tag {
  id: TagID;
  name: string;
  color?: string; // 可选的颜色标识
}
// 模板内容部分
interface TemplateSection {
  title: string;
  content: string;
}
// 病历模板
interface Template {
  id: TemplateID;
  title: string;
  sections: TemplateSection[];
  disease: DiseaseID; // 关联的病种ID
  templateType: TemplateType; // 模板类型
  tags: TagID[]; // 关联的标签ID
  createdAt: Timestamp;
  updatedAt: Timestamp;
  isFavorite: boolean;
}
```

## 3. 视觉设计规范

### 3.1 配色方案（基于实际应用配色）

#### 主色调

```css
:root {
  /* 主色调 */
  --doc-primary: #2e4ab8; /* 主要品牌色，用于标题和重要元素 */
  --doc-secondary: #5c7cfa; /* 次要色，用于辅助元素 */

  /* 背景色 */
  --doc-bg: #f8faff; /* 主背景色，模拟医疗文档纸张 */
  --section-bg: #edf2ff; /* 区域背景色，用于分隔不同模块 */
  --card-bg: #ffffff; /* 卡片背景色，纯白色 */

  /* 文字色 */
  --text-main: #1a237e; /* 主要文字色，深蓝色确保可读性 */
  --text-secondary: #37474f; /* 次要文字色，用于说明文字 */
  --text-label: #546e7a; /* 标签文字色，用于字段标签 */

  /* 交互状态色 */
  --border-light: #cfd8dc; /* 浅色边框，用于分割线 */
  --border-emphasis: #90caf9; /* 强调边框，用于高亮元素 */
  --hover-bg: #e3eaff; /* 悬停背景色 */
  --active-bg: #d6e0ff; /* 激活背景色 */

  /* 功能状态色 */
  --success: #4caf50; /* 成功状态色 */
  --warning: #ff9800; /* 警告状态色 */
  --danger: #e53935; /* 危险/错误状态色 */
}
```

#### 色彩语义说明

- **主蓝色系 (#2E4AB8, #5C7CFA)**：体现医疗专业性，建立信任感
- **浅蓝背景 (#F8FAFF, #EDF2FF)**：营造清洁、专业的医疗环境氛围
- **深蓝文字 (#1A237E)**：确保文字清晰可读，符合医疗文档要求
- **状态色彩**：明确的视觉反馈，帮助用户快速识别不同状态

### 3.2 字体规范

#### 字体族

```css
font-family: "Segoe UI", "Microsoft YaHei", sans-serif;
```

- **主要字体**: Segoe UI（Windows系统字体）
- **中文字体**: Microsoft YaHei（微软雅黑）
- **备用字体**: sans-serif（无衬线字体）

#### 字体大小层级

- **应用标题**: 20px - 应用主标题
- **页面标题**: 18px - 页面和区域标题
- **卡片标题**: 17px - 模板卡片标题
- **正文内容**: 15px - 菜单项和一般文字
- **辅助文字**: 14px - 输入框和表单文字
- **小号文字**: 13px - 状态栏和次要信息
- **标签文字**: 12px - 标签和徽章文字

### 3.3 间距规范

#### 基础间距单位

- **基础单位**: 8px
- **常用间距**: 8px, 12px, 15px, 18px, 20px, 25px, 30px

#### 组件间距

- **紧密间距**: 8px - 相关元素间
- **标准间距**: 12px - 一般组件间
- **舒适间距**: 15px - 区域内分割
- **宽松间距**: 20px - 区域间分割
- **大间距**: 25px-30px - 主要区域间

### 3.4 圆角和阴影

#### 圆角规范

- **小圆角**: 6px - 按钮和小型元素
- **标准圆角**: 8px - 卡片和面板
- **大圆角**: 10px - 大型容器
- **特殊圆角**: 50% - 圆形按钮

#### 阴影规范

- **轻微阴影**: `0 2px 10px rgba(0, 0, 0, 0.08)` - 标题栏
- **标准阴影**: `0 5px 15px rgba(0, 0, 0, 0.05)` - 卡片悬停
- **强调阴影**: `0 5px 20px rgba(0, 0, 0, 0.15)` - 弹出面板

## 4. 布局架构

### 4.1 整体布局结构

采用经典的桌面应用三栏布局：

```
┌─────────────────────────────────────────────────────────┐
│  标题栏 (.title-bar) - 40px高度                         │
│  应用图标 + 标题 + 菜单 + 窗口控制按钮                    │
├─────────────────────────────────────────────────────────┤
│  左侧边栏    │    中间列表区    │    右侧详情区          │
│  200px宽度   │    320px宽度     │    自适应宽度          │
│  (.sidebar)  │ (.template-list) │ (.template-detail)    │
│              │                  │                       │
│  分类导航     │  搜索筛选工具栏   │  模板详情头部          │
│  ├病种分类    │  ├─────────────  │  ├─────────────────   │
│  ├模板类型    │  模板卡片列表     │  模板内容预览          │
│  ├标签分类    │  ├模板卡片1      │  ├内容片段1           │
│  └筛选条件    │  ├模板卡片2      │  ├内容片段2           │
│              │  ├模板卡片3      │  ├内容片段3           │
│              │  └...           │  └操作按钮区          │
├─────────────────────────────────────────────────────────┤
│  状态栏 (.status-bar) - 20px高度                        │
│  连接状态 + 选中信息 + 系统状态                          │
└─────────────────────────────────────────────────────────┘
```

### 4.2 尺寸规范

```css
:root {
  --title-bar-height: 40px;
  --status-bar-height: 20px;
  --sidebar-width: 200px;
  --middle-list-width: 320px;
}
```

### 4.3 响应式设计

#### 断点设置

- **大屏幕**: ≥1400px - 完整三栏布局
- **中等屏幕**: 1024px-1399px - 可调整栏宽
- **小屏幕**: 768px-1023px - 可折叠侧边栏
- **紧凑屏幕**: <768px - 单栏布局

## 5. 组件设计规范

### 5.1 标题栏 (.title-bar)

#### 设计规格

- **高度**: 40px
- **背景色**: 白色 (#FFFFFF)
- **边框**: 底部1px实线，颜色 `var(--border-light)`
- **阴影**: `0 2px 10px rgba(0, 0, 0, 0.08)`
- **内边距**: 左右各20px

#### 功能区域

##### 左侧区域

- **应用图标**: 30x30px，圆角8px，背景色为主色调
- **应用标题**: "住院病历模板管理系统"，20px字体，主色调
- **菜单项**: 文件、编辑、视图、帮助，15px字体，间距25px

##### 右侧区域

- **窗口控制按钮**: 置顶、最小化、最大化、关闭
- **按钮尺寸**: 32x32px，圆形
- **按钮间距**: 15px

#### 交互状态

- **菜单悬停**: 背景色变为 `var(--hover-bg)`，文字色变为主色调
- **按钮悬停**: 背景色变为 `var(--hover-bg)`
- **特殊悬停效果**:
  - 最小化按钮: 文字色变为警告色
  - 最大化按钮: 文字色变为成功色
  - 关闭按钮: 背景色变为危险色，文字变白

### 5.2 左侧边栏 (.sidebar)

#### 设计规格

- **宽度**: 200px
- **背景色**: 白色 (#FFFFFF)
- **边框**: 右侧1px实线，颜色 `var(--border-light)`
- **布局**: 垂直弹性布局

#### 功能模块

##### 分类选择区 (.category-section)

- **内边距**: 20px
- **底部边框**: 1px实线，颜色 `var(--border-light)`
- **标题**: "模板分类"，18px字体，主色调
- **下拉组**: 垂直排列，间距12px

##### 下拉选择器 (.dropdown)

- **背景色**: `var(--section-bg)`
- **圆角**: 8px
- **内边距**: 12px 15px
- **悬停效果**: 背景色变为 `var(--hover-bg)`
- **激活状态**: 背景色变为主色调，文字变白

##### 分类内容区 (.category-content)

- **内边距**: 15px 20px
- **滚动**: 垂直滚动
- **分类项**: 10px间距，28px高度

### 5.3 中间列表区 (.template-list-section)

#### 设计规格

- **宽度**: 320px
- **背景色**: 白色 (#FFFFFF)
- **布局**: 垂直弹性布局

#### 功能组件

##### 列表头部 (.list-header)

- **内边距**: 15px 20px
- **底部边框**: 1px实线
- **搜索容器**: 300px宽度，背景色 `var(--section-bg)`
- **筛选按钮**: 背景色 `var(--section-bg)`，圆角6px

##### 模板卡片 (.template-card)

- **背景色**: 白色
- **边框**: 1px实线，颜色 `var(--border-light)`
- **圆角**: 10px
- **内边距**: 18px
- **间距**: 底部15px
- **悬停效果**:
  - 边框色变为 `var(--border-emphasis)`
  - 阴影: `0 5px 15px rgba(0, 0, 0, 0.05)`
  - 向上移动2px

##### 卡片内容结构

- **标题**: 17px字体，主色调，600字重
- **收藏按钮**: 18px字体，右上角
- **病种、类型、标签区**: 8px间距，可换行
- **底部信息**: 13px字体，次要文字色

### 5.4 右侧详情区 (.template-detail-section)

#### 设计规格

- **宽度**: 自适应剩余空间
- **背景色**: 白色 (#FFFFFF)
- **左侧边框**: 1px实线，颜色 `var(--border-light)`
- **布局**: 垂直弹性布局

#### 功能区域

##### 详情头部 (.template-detail-header)

- **内边距**: 18px 20px
- **底部边框**: 1px实线
- **标题**: 20px字体，主色调，600字重
- **病种、类型、标签区**: 10px间距，可换行
- **操作按钮**: 12px间距，水平排列

##### 详情内容 (.template-detail-content)

- **内边距**: 20px
- **滚动**: 垂直滚动
- **空状态**: 居中显示提示信息

### 5.5 底部状态栏 (.status-bar)

#### 设计规格

- **高度**: 20px
- **背景色**: 白色 (#FFFFFF)
- **顶部边框**: 1px实线，颜色 `var(--border-light)`
- **内边距**: 左右各20px
- **字体**: 13px，次要文字色

#### 显示内容

- **左侧**: 连接状态指示器（10px圆点，成功色）
- **中间**: 当前选中模板信息
- **右侧**: 系统状态和版本信息

## 6. 交互设计规范

### 6.1 动画效果

#### 过渡动画

- **标准过渡**: `transition: all 0.2s` - 用于大部分交互元素
- **图标旋转**: `transition: transform 0.3s` - 用于下拉箭头

#### 变换效果

- **卡片悬停**: `transform: translateY(-2px)` - 轻微上移
- **下拉箭头**: `transform: rotate(180deg)` - 激活时旋转

### 6.2 状态反馈

#### 悬停状态

- 背景色变化
- 文字色变化
- 阴影增强
- 轻微位移

#### 激活状态

- 背景色高亮
- 边框强调
- 文字色反转

### 6.3 用户操作流程

#### 模板浏览流程

1. 选择分类方式（病种/类型/标签）
2. 在分类列表中选择具体分类
3. 在模板列表中浏览和搜索
4. 点击模板卡片查看详情
5. 在详情区进行编辑或复制操作

#### 模板编辑流程

1. 在详情区点击编辑按钮
2. 进入编辑模式，显示保存/取消按钮
3. 修改模板内容
4. 点击保存确认修改，或取消放弃修改

## 7. 可访问性设计

### 7.1 色彩对比

- **主文字对比度**: ≥7:1（深蓝色 #1A237E 在白色背景上）
- **次要文字对比度**: ≥4.5:1
- **交互元素对比度**: ≥3:1

### 7.2 键盘导航

- 所有交互元素支持Tab键导航
- 清晰的焦点指示器
- 支持快捷键操作

### 7.3 屏幕阅读器支持

- 语义化HTML标签
- 适当的ARIA属性
- 图片alt文本
- 状态变化通知
